<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Search User | Stick Arc</title>
<link rel="icon" href="favicon.ico.png">
<style>
/* ===================== */
/* üî• GOLDEN FIRE ‚Äì FULL MOBILE SEARCH */
/* ===================== */

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
  font-family:'Poppins',system-ui,-apple-system,BlinkMacSystemFont;
}

body{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:
    radial-gradient(circle at top, rgba(255,190,90,.35), transparent 55%),
    radial-gradient(circle at bottom, rgba(255,110,0,.45), transparent 60%),
    linear-gradient(180deg,#070200,#140800,#050200);
  color:#fff;
}

/* üîç SEARCH BOX ‚Äî BIG & MOBILE */
.box{
  width:92vw;                 /* almost full mobile */
  max-width:420px;
  padding:38px 26px 42px;
  border-radius:26px;
  text-align:center;

  background:
    linear-gradient(180deg, rgba(45,22,6,.95), rgba(18,8,2,.97));

  border:1px solid rgba(255,180,90,.45);

  box-shadow:
    0 0 40px rgba(255,170,60,.5),
    0 0 85px rgba(255,120,30,.3),
    inset 0 0 30px rgba(255,210,130,.18);
}

/* üè∑Ô∏è TITLE */
.box h2{
  margin-bottom:26px;
  font-size:2rem;
  font-weight:800;
  letter-spacing:.6px;

  background:linear-gradient(90deg,#ffe4a6,#ffae3d,#ffe4a6);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;

  text-shadow:
    0 0 12px rgba(255,210,130,.9),
    0 0 28px rgba(255,140,40,1);
}

/* ‚úèÔ∏è INPUT ‚Äî BIG */
.box input{
  width:100%;
  padding:18px 22px;
  border-radius:20px;
  border:1px solid rgba(255,180,90,.45);
  outline:none;

  background:#120700;
  color:#fff;
  font-size:1.15rem;

  box-shadow:
    inset 0 0 18px rgba(255,140,50,.25),
    0 0 22px rgba(255,120,30,.25);

  transition:.2s ease;
}

.box input::placeholder{
  color:#ffc680;
  opacity:.75;
}

.box input:focus{
  border-color:#ffb347;
  box-shadow:
    0 0 18px rgba(255,170,60,.9),
    inset 0 0 20px rgba(255,210,130,.35);
}

/* üîò BUTTON ‚Äî BIG GLOW */
.box button{
  width:100%;
  margin-top:26px;
  padding:20px;
  border:none;
  border-radius:22px;
  cursor:pointer;

  font-size:1.3rem;
  font-weight:800;
  color:#2b1400;

  background:
    linear-gradient(180deg,#ffe09a,#ffb13b,#ff7a00);

  box-shadow:
    0 0 26px rgba(255,190,90,1),
    0 0 60px rgba(255,130,30,1),
    inset 0 -3px 8px rgba(160,60,0,.45);

  transition:transform .15s ease, box-shadow .15s ease;
}

.box button:active{
  transform:scale(.96);
  box-shadow:
    0 0 18px rgba(255,160,60,.9),
    0 0 36px rgba(255,110,0,.9);
}

/* ‚ÑπÔ∏è HINT */
.hint{
  margin-top:18px;
  font-size:1rem;
  color:#ffd79a;
  opacity:.9;
  text-shadow:0 0 10px rgba(255,170,60,.5);
}

/* üì± VERY SMALL PHONES */
@media(max-width:360px){
  .box{
    padding:34px 22px 38px;
  }
  .box h2{
    font-size:1.8rem;
  }
}
</style>

</head>

<body>

<div class="box">
  <h2>üîç Search User</h2>

  <input id="username" placeholder="Enter username" autocomplete="off">
  <button id="searchBtn">Search</button>

  <div class="hint">Search by exact username</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, getDoc } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { getAuth, onAuthStateChanged } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

/* FIREBASE INIT */
const app = initializeApp({
  apiKey:"AIzaSyAIgpVbHc_xdeTb02V_KE13MvxTmWKOSLM",
  authDomain:"stickarc-dcbc9.firebaseapp.com",
  projectId:"stickarc-dcbc9"
});

const db = getFirestore(app);
const auth = getAuth(app);

/* DOM */
const usernameInput = document.getElementById("username");
const searchBtn = document.getElementById("searchBtn");

/* AUTH CHECK */
onAuthStateChanged(auth,(user)=>{
  if(!user) location.href="login.html";
});

/* SEARCH */
async function search(){
  const uname = usernameInput.value.trim();
  if(!uname) return;

  searchBtn.textContent = "Searching...";
  searchBtn.disabled = true;

  const snap = await getDoc(doc(db,"users",uname));

  if(!snap.exists()){
    alert("User not found");
    searchBtn.textContent = "Search";
    searchBtn.disabled = false;
    return;
  }

  location.href = `profile.html?u=${uname}`;
}

/* EVENTS */
searchBtn.onclick = search;
usernameInput.addEventListener("keydown",e=>{
  if(e.key==="Enter") search();
});
</script>

</body>
</html>

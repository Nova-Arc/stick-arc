<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Search User | Stick Arc</title>
<link rel="icon" href="favicon.ico.png">
<style>
/* ===================== */
/* üî• GOLDEN FIRE ‚Äî PERFECT MOBILE FIT */
/* ===================== */

*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  -webkit-tap-highlight-color:transparent;
  font-family:'Poppins',system-ui,-apple-system,BlinkMacSystemFont;
}

html,body{
  width:100%;
  height:100%;
}

body{
  display:flex;
  justify-content:center;
  align-items:center;
  background:
    radial-gradient(circle at top, rgba(255,190,90,.35), transparent 55%),
    radial-gradient(circle at bottom, rgba(255,110,0,.45), transparent 60%),
    linear-gradient(180deg,#060200,#140800,#050200);
  color:#fff;
}

/* üîç SEARCH BOX ‚Äî EXACT MOBILE FIT */
.box{
  width:100vw;            /* üëà full width */
  min-height:100vh;       /* üëà full height */
  padding:42px 22px 36px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  text-align:center;

  background:
    linear-gradient(180deg, rgba(45,22,6,.96), rgba(18,8,2,.98));

  box-shadow:
    inset 0 0 35px rgba(255,210,130,.2);
}

/* üè∑Ô∏è TITLE */
.box h2{
  margin-bottom:28px;
  font-size:2.2rem;
  font-weight:800;
  letter-spacing:.6px;

  background:linear-gradient(90deg,#ffe4a6,#ffae3d,#ffe4a6);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;

  text-shadow:
    0 0 14px rgba(255,210,130,.9),
    0 0 32px rgba(255,140,40,1);
}

/* ‚úèÔ∏è INPUT */
.box input{
  width:100%;
  padding:20px 22px;
  border-radius:22px;
  border:1px solid rgba(255,180,90,.45);
  outline:none;

  background:#120700;
  color:#fff;
  font-size:1.2rem;

  box-shadow:
    inset 0 0 18px rgba(255,140,50,.25),
    0 0 22px rgba(255,120,30,.25);
}

.box input::placeholder{
  color:#ffc680;
  opacity:.75;
}

.box input:focus{
  border-color:#ffb347;
  box-shadow:
    0 0 20px rgba(255,170,60,.9),
    inset 0 0 22px rgba(255,210,130,.35);
}

/* üîò BUTTON */
.box button{
  width:100%;
  margin-top:28px;
  padding:22px;
  border:none;
  border-radius:24px;
  cursor:pointer;

  font-size:1.35rem;
  font-weight:800;
  color:#2b1400;

  background:
    linear-gradient(180deg,#ffe09a,#ffb13b,#ff7a00);

  box-shadow:
    0 0 28px rgba(255,190,90,1),
    0 0 65px rgba(255,130,30,1),
    inset 0 -3px 8px rgba(160,60,0,.45);
}

.box button:active{
  transform:scale(.96);
}

/* ‚ÑπÔ∏è HINT */
.hint{
  margin-top:22px;
  font-size:1.05rem;
  color:#ffd79a;
  opacity:.9;
  text-shadow:0 0 10px rgba(255,170,60,.5);
}
</style>


</head>

<body>

<div class="box">
  <h2>üîç Search User</h2>

  <input id="username" placeholder="Enter username" autocomplete="off">
  <button id="searchBtn">Search</button>

  <div class="hint">Search by exact username</div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, getDoc } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { getAuth, onAuthStateChanged } from
"https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

/* FIREBASE INIT */
const app = initializeApp({
  apiKey:"AIzaSyAIgpVbHc_xdeTb02V_KE13MvxTmWKOSLM",
  authDomain:"stickarc-dcbc9.firebaseapp.com",
  projectId:"stickarc-dcbc9"
});

const db = getFirestore(app);
const auth = getAuth(app);

/* DOM */
const usernameInput = document.getElementById("username");
const searchBtn = document.getElementById("searchBtn");

/* AUTH CHECK */
onAuthStateChanged(auth,(user)=>{
  if(!user) location.href="login.html";
});

/* SEARCH */
async function search(){
  const uname = usernameInput.value.trim();
  if(!uname) return;

  searchBtn.textContent = "Searching...";
  searchBtn.disabled = true;

  const snap = await getDoc(doc(db,"users",uname));

  if(!snap.exists()){
    alert("User not found");
    searchBtn.textContent = "Search";
    searchBtn.disabled = false;
    return;
  }

  location.href = `profile.html?u=${uname}`;
}

/* EVENTS */
searchBtn.onclick = search;
usernameInput.addEventListener("keydown",e=>{
  if(e.key==="Enter") search();
});
</script>

</body>
</html>
